<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{ url_for('static', filename='signup.css') }}" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-title">
        <h1>회원가입</h1>
    </div>

    <div class="options-container">
        <button onclick="choose_stu()" class="button" id="stu_option">학생</button>
        <button onclick="choose_prof()" class="button" id="prof_option">교수자</button>
    </div>

    <form action="/signup" method="POST" id="stu_form" class="signup-form">
        <input type="hidden" name="prof_or_stu" value="student">
        <input class="input" placeholder="아이디" type="text" name="username" required>
        <input class="input" placeholder="비밀번호" type="password" name="password" required>
        <input class="input" placeholder="전공" type="text" name="major" required>
        <select class="input" name="grade" required>
            <option value="" disabled selected>학년을 선택하세요</option>
            <option value="1">1학년</option>
            <option value="2">2학년</option>
            <option value="3">3학년</option>
            <option value="4">4학년</option>
        </select>
        <input class="input" placeholder="학번" type="text" name="studentNUM" required>
        <button class="input submit-btn" type="submit">회원가입</button>
    </form>

    <form action="/signup" method="POST" id="prof_form" class="signup-form">
        <input type="hidden" name="prof_or_stu" value="prof">
        <input class="input" placeholder="아이디" type="text" name="username" required>
        <input class="input" placeholder="비밀번호" type="password" name="password" required>
        <input class="input" placeholder="전공" type="text" name="major" required>
        <input class="input" placeholder="교수 번호" type="text" name="profNUM" required>
        <button class="input submit-btn" type="submit">회원가입</button>
    </form>

    <a href="/login" class="link-button">로그인 페이지로</a>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
        <script>
            alert("{{ messages[-1] }}");
        </script>
        {% endif %}
    {% endwith %}

    <script>
        const prof_option = document.getElementById("prof_option");
        const stu_option = document.getElementById("stu_option");
        const stu_form = document.getElementById("stu_form");
        const prof_form = document.getElementById("prof_form");

        function choose_stu() {
            stu_option.classList.add("active");
            prof_option.classList.remove("active");
            prof_form.style.display = "none";
            stu_form.style.display = "flex";
        }

        function choose_prof() {
            prof_option.classList.add("active");
            stu_option.classList.remove("active");
            stu_form.style.display = "none";
            prof_form.style.display = "flex";
        }

        // 페이지 로드 시 학생을 기본으로 선택
        choose_stu();
    </script>
</body>
</html>